# ============================================================================
# Wasm Wizard Environment Configuration Template
# ============================================================================
# Copy this file to .env and update the values for your environment:
#   cp .env.example .env
# Then edit .env with your specific configuration values.
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://wasm_wizard:password@localhost:5432/wasm_wizard

# ============================================================================
# REDIS CONFIGURATION (REQUIRED FOR PRODUCTION)
# ============================================================================
# Redis is MANDATORY for production rate limiting and caching
# Development: Set REDIS_ENABLED=false to use in-memory rate limiting
# Production: Set REDIS_ENABLED=true and configure REDIS_URL
REDIS_ENABLED=false
REDIS_URL=redis://127.0.0.1:6379

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# Bind address (use 0.0.0.0 for production to accept external connections)
SERVER_HOST=127.0.0.1
SERVER_PORT=8080

# Environment: development, staging, or production
ENVIRONMENT=development

# ============================================================================
# SECURITY CONFIGURATION (CRITICAL)
# ============================================================================
# API Salt for hashing API keys - MUST BE UNIQUE AND SECURE IN PRODUCTION
# Generate with: openssl rand -base64 48
# Or use: ./scripts/generate_secrets.sh
API_SALT=your-random-salt-here-change-in-production

# Authentication required (set to true in production)
AUTH_REQUIRED=false

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log levels: error, warn, info, debug, trace
LOG_LEVEL=info
RUST_LOG=info,wasm_wizard=debug

# ============================================================================
# FILE STORAGE CONFIGURATION
# ============================================================================
# Directory for temporary WASM module storage
WASM_TEMP_DIR=/tmp/wasm_modules

# ============================================================================
# RESOURCE LIMITS
# ============================================================================
# Maximum WASM module size (bytes)
MAX_WASM_SIZE=10485760      # 10MB

# Maximum input data size (bytes)
MAX_INPUT_SIZE=1048576      # 1MB

# WASM execution timeout (seconds)
EXECUTION_TIMEOUT=5         # 5 seconds

# WASM memory limit (bytes)
MEMORY_LIMIT=134217728      # 128MB

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================
# Free tier limits
FREE_TIER_RATE_MINUTE=10
FREE_TIER_RATE_DAY=500

# Basic tier limits
BASIC_TIER_RATE_MINUTE=100
BASIC_TIER_RATE_DAY=10000

# Pro tier limits
PRO_TIER_RATE_MINUTE=500
PRO_TIER_RATE_DAY=50000

# ============================================================================
# ADVERTISEMENT CONFIGURATION (FREE TIER MONETIZATION)
# ============================================================================
# Enable/disable advertisements
ADS_ENABLED=false

# Google AdSense Client ID
# Get from: https://www.google.com/adsense/
# Format: ca-pub-XXXXXXXXXXXXXXXXX
ADSENSE_CLIENT_ID=ca-pub-XXXXXXXXXXXXXXXXX

# Google AdSense Ad Slot IDs (optional - uses defaults if not set)
# Get these from your AdSense account for each ad placement
ADSENSE_HEADER_SLOT_ID=1234567890
ADSENSE_SIDEBAR_SLOT_ID=1234567890
ADSENSE_FOOTER_SLOT_ID=1234567890

# ============================================================================
# CONTENT SECURITY POLICY (OPTIONAL)
# ============================================================================
# URI for CSP violation reports
# CSP_REPORT_URI=https://your-domain.com/csp-report

# Enable nonce-based CSP (recommended for production)
# CSP_ENABLE_NONCE=false

# ============================================================================
# TLS/SSL CONFIGURATION (PRODUCTION)
# ============================================================================
# Uncomment and configure for HTTPS in production
# Note: Typically handled by reverse proxy (nginx, Caddy, etc.)
# TLS_CERT_PATH=/path/to/cert.pem
# TLS_KEY_PATH=/path/to/key.pem
